const burgerBtn=document.querySelector(".header__burger"),burgerMenu=document.querySelector(".burger"),burgerLogo=document.querySelector(".burger__logo"),headerLogo=document.querySelector(".header__logo"),darkScreen=document.querySelector(".dark-screen"),burgerLinks=document.querySelectorAll(".burger__link");let isBurgerOpen=!1,isAnimathionStop=!0,vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",vh+"px");const openBurger=()=>{!0===isAnimathionStop&&(isAnimathionStop=!1,darkScreen.style.display="block",burgerBtn.classList.remove("header__burger--close"),burgerBtn.classList.add("header__burger--open"),burgerMenu.classList.add("burger--active"),burgerMenu.classList.add("burger__animation-in"),burgerMenu.classList.remove("burger__animation-out"),burgerLogo.classList.add("burger__logo--open"),headerLogo.classList.add("header__logo--hide"),document.body.style.overflowY="hidden",burgerLogo.addEventListener("animationend",()=>{isAnimathionStop=!0,isBurgerOpen=!0}))},closeBurger=()=>{darkScreen.style.display="none",burgerBtn.classList.remove("header__burger--open"),burgerBtn.classList.add("header__burger--close"),burgerMenu.classList.remove("burger__animation-in"),burgerMenu.classList.add("burger__animation-out"),burgerLogo.classList.remove("burger__logo--open"),headerLogo.classList.remove("header__logo--hide"),document.body.style.overflowY="visible",setTimeout(removeClassActive,1500),isBurgerOpen=!1},removeClassActive=()=>{burgerMenu.classList.remove("burger--active")};burgerBtn.addEventListener("click",e=>{e.stopPropagation(),isBurgerOpen?closeBurger():!0===isAnimathionStop&&(isAnimathionStop=!1,darkScreen.style.display="block",burgerBtn.classList.remove("header__burger--close"),burgerBtn.classList.add("header__burger--open"),burgerMenu.classList.add("burger--active"),burgerMenu.classList.add("burger__animation-in"),burgerMenu.classList.remove("burger__animation-out"),burgerLogo.classList.add("burger__logo--open"),headerLogo.classList.add("header__logo--hide"),document.body.style.overflowY="hidden",burgerLogo.addEventListener("animationend",()=>{isAnimathionStop=!0,isBurgerOpen=!0}))}),document.querySelector(".dark-screen").addEventListener("click",closeBurger),window.addEventListener("keydown",e=>{"Escape"===e.key&&(e.preventDefault,isBurgerOpen&&closeBurger())}),burgerLinks.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault,isBurgerOpen&&closeBurger()})}),window.addEventListener("resize",()=>{isBurgerOpen&&closeBurger()}),fetch("./js/pets.json").then(e=>e.json()).then(e=>{const t=document.querySelector("#petCard").content;let r,o=!0;initPageSize=()=>{r=window.innerWidth<768?"mobile":window.innerWidth<1100?"tablet":"decktop"},initPageSize();const n=document.querySelector(".popup"),s=n.querySelector(".popup__close-btn"),i=(document.querySelector(".pets"),document.querySelector(".pets__slider"));document.querySelector(".slider__list");i.addEventListener("click",t=>{if(t.preventDefault(),t.target.parentNode.classList.contains("slider__item")){darkScreen.style.display="block";const r=t.target.parentNode.getAttribute("id"),o=e.find(e=>e.id===r);n.classList.add("popup--active"),n.querySelector(".popup__img").setAttribute("src",o.img),n.querySelector(".popup__name").textContent=o.name,n.querySelector(".popup__type-breed").textContent=`${o.type} - ${o.breed}`,n.querySelector(".popup__text").textContent=o.description,n.querySelector(".popup__age").textContent=o.age,n.querySelector(".popup__inoculations").textContent=o.inoculations,n.querySelector(".popup__diseases").textContent=o.diseases,n.querySelector(".popup__parasites").textContent=o.parasites,document.body.style.overflowY="hidden"}const r=e=>{e.preventDefault(),darkScreen.style.display="none",n.classList.remove("popup--active"),document.body.style.overflowY="visible"};window.addEventListener("keydown",e=>{"Escape"===e.key&&r(e)}),s.addEventListener("click",r),document.querySelector(".dark-screen").addEventListener("click",r),n.addEventListener("mouseleave",()=>{s.style.backgroundColor="#FDDCC4"}),n.addEventListener("mouseenter",e=>{s.style.backgroundColor=null})});let l=[];const d=()=>{const t=l;for(l=[];l.length<3;){let r=Math.floor(Math.random()*Math.floor(e.length));l.includes(r)||t.includes(r)||l.push(r)}};(()=>{for(;l.length<3;){let t=Math.floor(Math.random()*Math.floor(e.length));l.includes(t)||l.push(t)}})();const a=r=>{let o=document.createElement("ul");o.classList.add("slider__list"),"next"===r?i.append(o):i.prepend(o);for(let r=0;r<3;r++){const n=l[r];o.append(t.cloneNode(!0));const s=o.querySelectorAll(".slider__item"),i=o.querySelectorAll(".slider__img"),d=o.querySelectorAll(".slider__name");s[s.length-1].setAttribute("id",""+e[n].id),d[s.length-1].textContent=""+e[n].name,i[s.length-1].setAttribute("src",""+e[n].img)}};a("next");const c=e=>{const t=document.querySelectorAll(".slider__item");if("previous"===e){if("tablet"===r){t[2].style.display="none"}if("mobile"===r){let e=t[2],r=t[1];e.style.display="none",r.style.display="none"}}else{if("tablet"===r){t[5].style.display="none"}if("mobile"===r){let e=t[5],r=t[4];e.style.display="none",r.style.display="none"}}};c("previous"),window.addEventListener("resize",()=>{let e=r;if(initPageSize(),e!==r){const t=document.querySelectorAll(".slider__item");let o=t[1],n=t[2];"tablet"===r&&"decktop"===e&&(n.style.display="none"),"tablet"===r&&"mobile"===e&&(o.style.display="block"),"mobile"===r&&(o.style.display="none",n.style.display="none"),"decktop"===r&&(o.style.display="block",n.style.display="block")}});const u=document.querySelector(".pets__slide-btn--previous"),p=document.querySelector(".pets__slide-btn--next"),g=e=>{const t=document.querySelectorAll(".slider__list");"next"===e&&t[0].remove(),"previous"===e&&t[1].remove()};u.addEventListener("click",(function(){if(!0===o){o=!1;const e="previous";d(),a(e),c(e);const t=document.querySelectorAll(".slider__list");t[1].style.left="-100%",t[0].style.zIndex="2",t[0].classList.add("from-left"),t[0].addEventListener("animationend",()=>{g(e),document.querySelector(".slider__list").classList.remove("from-left"),t[0].style.zIndex="0",o=!0})}})),p.addEventListener("click",(function(){if(!0===o){o=!1;const e="next";d(),a(e),c(e);const t=document.querySelectorAll(".slider__list");t[1].classList.add("from-right"),t[1].addEventListener("animationend",()=>{g(e),document.querySelector(".slider__list").classList.remove("from-right"),o=!0})}}))});