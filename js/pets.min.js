const burgerBtn=document.querySelector(".header__burger"),burgerMenu=document.querySelector(".burger"),burgerLogo=document.querySelector(".burger__logo"),headerLogo=document.querySelector(".header__logo"),darkScreen=document.querySelector(".dark-screen"),burgerLinks=document.querySelectorAll(".burger__link");let isBurgerOpen=!1,isAnimathionStop=!0,vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",vh+"px");const openBurger=()=>{!0===isAnimathionStop&&(isAnimathionStop=!1,darkScreen.style.display="block",burgerBtn.classList.remove("header__burger--close"),burgerBtn.classList.add("header__burger--open"),burgerMenu.classList.add("burger--active"),burgerMenu.classList.add("burger__animation-in"),burgerMenu.classList.remove("burger__animation-out"),burgerLogo.classList.add("burger__logo--open"),headerLogo.classList.add("header__logo--hide"),document.body.style.overflowY="hidden",burgerLogo.addEventListener("animationend",()=>{isAnimathionStop=!0,isBurgerOpen=!0}))},closeBurger=()=>{darkScreen.style.display="none",burgerBtn.classList.remove("header__burger--open"),burgerBtn.classList.add("header__burger--close"),burgerMenu.classList.remove("burger__animation-in"),burgerMenu.classList.add("burger__animation-out"),burgerLogo.classList.remove("burger__logo--open"),headerLogo.classList.remove("header__logo--hide"),document.body.style.overflowY="visible",setTimeout(removeClassActive,2e3),isBurgerOpen=!1},removeClassActive=()=>{burgerMenu.classList.remove("burger--active")};burgerBtn.addEventListener("click",e=>{e.stopPropagation(),isBurgerOpen?closeBurger():!0===isAnimathionStop&&(isAnimathionStop=!1,darkScreen.style.display="block",burgerBtn.classList.remove("header__burger--close"),burgerBtn.classList.add("header__burger--open"),burgerMenu.classList.add("burger--active"),burgerMenu.classList.add("burger__animation-in"),burgerMenu.classList.remove("burger__animation-out"),burgerLogo.classList.add("burger__logo--open"),headerLogo.classList.add("header__logo--hide"),document.body.style.overflowY="hidden",burgerLogo.addEventListener("animationend",()=>{isAnimathionStop=!0,isBurgerOpen=!0}))}),document.querySelector(".dark-screen").addEventListener("click",closeBurger),window.addEventListener("keydown",e=>{"Escape"===e.key&&(e.preventDefault,isBurgerOpen&&(closeBurger(),setTimeout(removeClassActive,2e3)))}),burgerLinks.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault,isBurgerOpen&&closeBurger()})}),window.addEventListener("resize",()=>{isBurgerOpen&&(closeBurger(),setTimeout(removeClassActive,2e3))}),fetch("./js/pets.json").then(e=>e.json()).then(e=>{const t=document.querySelector("#petCard").content,r=document.querySelector(".friends__list"),o=[];let n,s,i=1;const d=()=>{window.innerWidth<768&&(n="mobile"),window.innerWidth<1280&&window.innerWidth>768&&(n="tablet"),window.innerWidth>1280&&(n="decktop")};d();"decktop"===n&&(s=6),"tablet"===n&&(s=8),"mobile"===n&&(s=16);(()=>{for(;o.length<48;){let t=Math.floor(Math.random()*Math.floor(e.length));o.includes(t)||o.push(t)}})();const l=o=>{r.append(t.cloneNode(!0));const n=r.querySelectorAll(".slider__item"),s=r.querySelectorAll(".slider__img"),i=r.querySelectorAll(".slider__name");n[n.length-1].setAttribute("id",""+e[o].id),i[n.length-1].textContent=""+e[o].name,s[n.length-1].setAttribute("src",""+e[o].img)},u=t=>{if(t>s&&(t=s,m.textContent=t),"decktop"===n)for(let e=8*(t-1);e<8*t;e++)l(o[e]);if("tablet"===n)for(let e=6*(t-1);e<6*t;e++)l(o[e]);if("mobile"===n)for(let e=3*(t-1);e<3*t;e++)l(o[e]);const r=document.querySelector(".friends__list"),i=document.querySelector(".popup"),d=i.querySelector(".popup__close-btn");r.addEventListener("click",t=>{if(t.preventDefault(),t.target.parentNode.classList.contains("slider__item")){darkScreen.style.display="block";const r=t.target.parentNode.getAttribute("id"),o=e.find(e=>e.id===r);i.classList.add("popup--active"),i.querySelector(".popup__img").setAttribute("src",o.img),i.querySelector(".popup__name").textContent=o.name,i.querySelector(".popup__type-breed").textContent=`${o.type} - ${o.breed}`,i.querySelector(".popup__text").textContent=o.description,i.querySelector(".popup__age").textContent=o.age,i.querySelector(".popup__inoculations").textContent=o.inoculations,i.querySelector(".popup__diseases").textContent=o.diseases,i.querySelector(".popup__parasites").textContent=o.parasites,document.querySelector(".header-pets").style.zIndex="1",document.body.style.overflowY="hidden"}popupClose=e=>{e.preventDefault(),darkScreen.style.display="none",i.classList.remove("popup--active"),document.body.style.overflowY="visible",document.querySelector(".header-pets").style.zIndex="3"},d.addEventListener("click",popupClose),window.addEventListener("keydown",e=>{"Escape"===e.key&&popupClose(e)}),document.querySelector(".dark-screen").addEventListener("click",popupClose)}),i.addEventListener("mouseleave",()=>{d.style.backgroundColor="#FDDCC4"}),i.addEventListener("mouseenter",e=>{d.style.backgroundColor=null})};u(i);const a=()=>{for(;r.firstChild;)r.removeChild(r.firstChild)};window.addEventListener("resize",()=>{let e=n;d(),e!==n&&(d(),a(),u(i))});const c=document.querySelector(".friends__slide-btn--next"),b=document.querySelector(".friends__slide-btn--last"),p=document.querySelector(".friends__slide-btn--previous"),g=document.querySelector(".friends__slide-btn--first"),m=document.querySelector(".pets__page");c.addEventListener("click",()=>{i++,m.textContent=i,a(),u(i),i===s&&(b.setAttribute("disabled","disabled"),c.setAttribute("disabled","disabled")),g.removeAttribute("disabled"),p.removeAttribute("disabled")}),p.addEventListener("click",()=>{i--,m.textContent=i,a(),u(i),1===i&&(g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled")),b.removeAttribute("disabled"),c.removeAttribute("disabled")}),b.addEventListener("click",()=>{i=s,m.textContent=s,a(),u(i),b.setAttribute("disabled","disabled"),c.setAttribute("disabled","disabled"),g.removeAttribute("disabled"),p.removeAttribute("disabled")}),g.addEventListener("click",()=>{i=1,m.textContent=i,a(),u(i),g.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),b.removeAttribute("disabled"),c.removeAttribute("disabled")})});